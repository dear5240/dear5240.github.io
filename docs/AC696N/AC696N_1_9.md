# 9. 时钟&晶振

## 9.1. 省晶振设置

**1、程序**

\#define TCFG_CLOCK_SYS_SRC                  SYS_CLOCK_INPUT_PLL_RCL   //系统时钟源选择

![img51](/pic/51.png)

**2、下载目录下download.bat批处理**

uboot选择带lrc的boot。

注意：uboot_lrc.boot_debug与uboot_lrc.boot区别在于uboot_lrc.boot_debug有debug信息功能是一样的。

![img52](/pic/52.png)

![img53](/pic/53.png)

![img54](/pic/54.png)

**3、isd_config.ini**

添加PLL_SRC=LRC;  

![img55](/pic/55.png)

**4、debug查看uboot是否选择省晶振为时钟源**

```
u32 pll_con0;

int main(){
    pll_con0= JL_CLOCK->PLL_CON;//从uboot进上层应用时获取PLL_CON值
}

printf("0000000000000000000000000000000000000000000000000   -----  %x %x\n",pll_con0,(pll_con0&BIT(9))>>9);//在串口初始化之后打印PLL_CON的第9位
```

![img56](/pic/56.png)

![img57](/pic/57.png)

![img58](/pic/58.png)

![img59](/pic/59.png)



## 9.2. 固定系统时钟设置

AC696X ：看clock_manager.c文件

![img60](/pic/60.png)

